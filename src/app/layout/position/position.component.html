<clr-tabs>
    <clr-tab>
        <button clrTabLink>Open positions</button>
        <!-- <ng-template [(clrIfActive)]="dashboardActive"> -->
        <clr-tab-content>
            <div class="limit-height">
                <clr-datagrid>
                    <clr-dg-column>Symbol</clr-dg-column>
                    <clr-dg-column>Type</clr-dg-column>
                    <clr-dg-column>Open price</clr-dg-column>
                    <clr-dg-column>Market price</clr-dg-column>
                    <clr-dg-column>Total value</clr-dg-column>
                    <clr-dg-column>Leverage</clr-dg-column>
                    <clr-dg-column>Profit</clr-dg-column>
                    <clr-dg-column>Liquidation price</clr-dg-column>
                    <clr-dg-column class="width--progress">Close</clr-dg-column>
                    <clr-dg-row *ngFor="let element of openPositions">
                        Cells declarations -->
                        <clr-dg-cell>{{element.symbol}}</clr-dg-cell>
                        <clr-dg-cell>{{element.typePosition}}</clr-dg-cell>
                        <clr-dg-cell>{{element.openPrice}}</clr-dg-cell>
                        <clr-dg-cell *ngIf="element.typePosition === 'SHORT'">
                            {{exchangeData.getSymbolAsk(element.symbol)}}
                        </clr-dg-cell>
                        <clr-dg-cell *ngIf="element.typePosition === 'LONG'">
                            {{exchangeData.getSymbolBid(element.symbol)}}
                        </clr-dg-cell>
                        <clr-dg-cell>{{element.value | number : '1.2-2'}}</clr-dg-cell>
                        <clr-dg-cell>{{element.leverage}}</clr-dg-cell>
                        <!-- <clr-dg-cell>
                            {{element.value * (1.0-exchangeData.getSymbolBid(element.symbol)/element.openPrice)}}
                        </clr-dg-cell> -->
                        <clr-dg-cell *ngIf="element.typePosition === 'SHORT'" [ngStyle]="{'color': element.openPrice/exchangeData.getSymbolAsk(element.symbol)*element.value-element.value < '0' ? 'red' : 'green'}">
                            {{element.openPrice/exchangeData.getSymbolAsk(element.symbol)*element.value-element.value | number : '1.2-2'}} 
                            ({{100.0/element.value*element.leverage * (element.openPrice/exchangeData.getSymbolAsk(element.symbol)*element.value-element.value) | number: '0.2-2'}}%)
                  
                        </clr-dg-cell>
                        <clr-dg-cell *ngIf="element.typePosition === 'LONG'" [ngStyle]="{'color': (element.openPrice/exchangeData.getSymbolBid(element.symbol)*element.value-element.value)*(-1) < '0' ? 'red' : 'green'}">
                            {{(element.openPrice/exchangeData.getSymbolBid(element.symbol)*element.value-element.value)*(-1) | number : '1.2-2'}}
                            ({{100.0/element.value*element.leverage * ((element.openPrice/exchangeData.getSymbolBid(element.symbol)*element.value-element.value)*(-1)) | number: '0.2-2' }}%)
                        </clr-dg-cell>
                        <clr-dg-cell>{{element.liquidationPrice | number : '1.2-5'}}</clr-dg-cell>
                        <clr-dg-cell class="width--progress">
                            <button aria-label="Close" class="close" type="button"
                                (click)="closeOpenPosition(element.id)">
                                <clr-icon aria-hidden="true" shape="close"></clr-icon>
                            </button>
                        </clr-dg-cell>
                        <!-- <clr-dg-row-detail *clrIfExpanded>
                        Pozycja L/S
                    </clr-dg-row-detail> -->
                    </clr-dg-row>
                    <clr-dg-footer>
                        <div class="datagrid-foot-description">
                            Balance: {{getBalance() | currency:'USD':true:'1.2-2' }}
                        </div>
                    </clr-dg-footer>
                </clr-datagrid>
            </div>
        </clr-tab-content>

        <!-- </ng-template> -->
    </clr-tab>
    <clr-tab>
        <button clrTabLink>Pending orders</button>
        <!-- <ng-template [(clrIfActive)]="dashboardActive"> -->
        <clr-tab-content>
            <div class="limit-height">
                <clr-datagrid>
                    <clr-dg-column>Symbol</clr-dg-column>
                    <clr-dg-column>Type</clr-dg-column>
                    <clr-dg-column>Execution price</clr-dg-column>
                    <clr-dg-column>Market price</clr-dg-column>
                    <clr-dg-column>Total value</clr-dg-column>
                    <clr-dg-column>Leverage</clr-dg-column>
                    <clr-dg-column>Liquidation price</clr-dg-column>
                    <clr-dg-column class="width--progress">Close</clr-dg-column>
                    <clr-dg-row *ngFor="let element of pendingPositions">
                        Cells declarations -->
                        <clr-dg-cell>{{element.symbol}}</clr-dg-cell>
                        <clr-dg-cell>{{element.typePosition}}</clr-dg-cell>
                        <clr-dg-cell>{{element.priceExecute}}</clr-dg-cell>
                        <clr-dg-cell *ngIf="element.typePosition === 'SHORT'">
                            {{exchangeData.getSymbolBid(element.symbol)}}
                        </clr-dg-cell>
                        <clr-dg-cell *ngIf="element.typePosition === 'LONG'">
                            {{exchangeData.getSymbolAsk(element.symbol)}}
                        </clr-dg-cell>
                        <clr-dg-cell>{{element.value | number : '1.2-2'}}</clr-dg-cell>
                        <clr-dg-cell>{{element.leverage}}</clr-dg-cell>
                        <clr-dg-cell>{{(1.0/element.leverage*element.priceExecute+element.priceExecute) | number : '1.2-4'}}</clr-dg-cell>
                        <clr-dg-cell class="width--progress">
                            <button aria-label="Close" class="close" type="button"
                                (click)="closePendingPosition(element.id)">
                                <clr-icon aria-hidden="true" shape="close"></clr-icon>
                            </button>
                        </clr-dg-cell>
                        <!-- <clr-dg-row-detail *clrIfExpanded>
                            Pozycja L/S
                        </clr-dg-row-detail> -->
                    </clr-dg-row>
                    <clr-dg-footer>
                        <!-- <various-built-in-controls-from-clarity/> -->
                        <div class="datagrid-foot-description">
                            Balance: {{getBalance() | currency:'USD':true:'1.2-2'}}
                        </div>
                        <!-- <clr-dg-pagination></clr-dg-pagination> -->
                    </clr-dg-footer>
                </clr-datagrid>
            </div>
        </clr-tab-content>
        <!-- </ng-template> -->
    </clr-tab>
</clr-tabs>